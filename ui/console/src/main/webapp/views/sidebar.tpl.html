<div ng-controller="SidebarController as vm" style="height: 100%;">

    <h4 class="sub-header">Metrics<span class="badge" ng-hide="vm.allMetrics.length < 1"
                                        style="margin-left: 5px;">{{vm.allMetrics.length}}</span>
        <button type="button" class="btn btn-primary btn-xs pull-right" style="margin-left: 15px;"
                ng-click="vm.populateMetricsSidebar()">
          <span class="pficon pficon-refresh"></span>  Refresh
        </button>
    </h4>
    <div cg-busy="vm.retrieveMetricsPromise"></div>

    <div class="input-group">
        <input type="text" class="form-control input-sm" placeholder="Filter..." ng-model="searchText">
      <span class="input-group-btn">
        <button class="btn btn-default btn-sm" type="button"><span class="fa fa-filter"></span></button>
      </span>
    </div>


    <ul class="nav nav-sidebar"
        ng-repeat="metric in vm.allMetrics | filter:searchText | limitTo:50 | orderBy:'title';">
        <li>
            <label class="checkbox-inline">
                <input type="checkbox" style="margin:3px 10px 0 10px;" ng-model="metric.selected"
                       ng-click="vm.addRemoveChart(metric.name,metric.selected)"/> {{metric.name}}
            </label>
        </li>

    </ul>

</div>
